(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{32:function(e,t,i){},46:function(e,t,i){},47:function(e,t,i){},48:function(e,t,i){"use strict";i.r(t);var n=i(6),a=i(4),o=i.n(a),r=i(15),s=i.n(r),c=(i(32),i(26)),l=i(9),u=i.n(l),d=i(12),f=(i(45),i(7)),h=i(21),p=i(22),m=i(23),b=i(24),g=i(25);i(46);var y,v,w=function(){function e(t){Object(h.a)(this,e),this.draw=t.draw,this.onRemoveOrig=t.draw.onRemove;var i=this.draw.options,n=i.union,a=i.copy,o=i.buffer;this.initialOptions={union:n,copy:a,buffer:o},this.buttons=[{name:"Union",callback:this.unionPolygons,title:"Union tool",classes:["mapbox-gl-draw_union",t.classPrefix?"".concat(t.classPrefix,"-union"):null]},{name:"Buffer",callback:this.bufferFeature,title:"Buffer tool",classes:["mapbox-gl-draw_buffer",t.classPrefix?"".concat(t.classPrefix,"-buffer"):null]},{name:"Copy",callback:this.copyFeature,title:"Copy tool",classes:["mapbox-gl-draw_copy",t.classPrefix?"".concat(t.classPrefix,"-copy"):null]}]}return Object(p.a)(e,[{key:"onAdd",value:function(e){var t=this;return this.map=e,this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl-group mapboxgl-ctrl",this.elContainer=this._container,this.buttons.filter((function(e){return!1!==t.initialOptions[e.name.toLowerCase()]})).forEach((function(e){t.addButton(e)})),this._container}},{key:"onRemove",value:function(e){var t=this;this.buttons.filter((function(e){return!1!==t.initialOptions[e.name.toLowerCase()]})).forEach((function(e){t.removeButton(e)})),this.onRemoveOrig(e)}},{key:"addButton",value:function(e){var t=document.createElement("button");t.className="mapbox-gl-draw_ctrl-draw-btn",t.setAttribute("title",e.title),e.classes instanceof Array&&e.classes.forEach((function(e){t.classList.add(e)})),t.addEventListener("click",e.callback.bind(this)),this.elContainer.appendChild(t),e.elButton=t}},{key:"removeButton",value:function(e){e.elButton.removeEventListener("click",e.action),e.elButton.remove()}},{key:"unionPolygons",value:function(){var e=this.draw.getSelected().features;if(e.length){var t;try{t=m.a.apply(void 0,Object(f.a)(this.draw.getSelected().features))}catch(n){throw new Error(n)}if("GeometryCollection"===t.geometry.type)throw new Error("Selected Features must have the same types!");var i=e.map((function(e){return e.id}));this.draw.delete(i),t.id=i.join("-"),this.draw.add(t)}}},{key:"bufferFeature",value:function(){var e=this.draw.getSelected().features;if(e.length){var t=e[0],i={};i.units=this.draw.options.bufferUnits||"kilometers",i.steps=this.draw.options.bufferSteps||"64";var n=Object(b.a)(t,this.draw.options.bufferSize||500,i);n.id=t.id+"_buffer",this.draw.add(n),this.draw.changeMode("simple_select",{featureIds:[n.id]})}}},{key:"copyFeature",value:function(){var e=this.draw.getSelected().features;if(e.length){var t=e[0],i=Object(g.a)(t,2,35);i.id="".concat(i.id,"_copy"),this.draw.add(i),this.draw.changeMode("simple_select",{featureIds:[i.id]})}}}]),e}();i(47);var j=function(){"unavailable"===u.a.getRTLTextPluginStatus()&&u.a.setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js",(function(e){e&&console.error(e)}),!0);var e=Object(a.useRef)(null);return Object(a.useEffect)((function(){y=new u.a.Map({container:e.current||"",style:"https://map.ir/vector/styles/main/mapir-xyz-light-style.json",center:[51.3857,35.6102],zoom:10,pitch:0,interactive:!0,hash:!0,attributionControl:!0,customAttribution:"\xa9 Map \xa9 Openstreetmap",transformRequest:function(e){return{url:e,headers:{"x-api-key":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImRiZWU0YWU4OTk4OTA3MmQ3OTFmMjQ4ZDE5N2VhZTgwZWU2NTUyYjhlYjczOWI2NDdlY2YyYzIzNWRiYThiMzIzOTM5MDkzZDM0NTY2MmU3In0.eyJhdWQiOiI5NDMyIiwianRpIjoiZGJlZTRhZTg5OTg5MDcyZDc5MWYyNDhkMTk3ZWFlODBlZTY1NTJiOGViNzM5YjY0N2VjZjJjMjM1ZGJhOGIzMjM5MzkwOTNkMzQ1NjYyZTciLCJpYXQiOjE1OTA4MjU0NzIsIm5iZiI6MTU5MDgyNTQ3MiwiZXhwIjoxNTkzNDE3NDcyLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.M_z4xJlJRuYrh8RFe9UrW89Y_XBzpPth4yk3hlT-goBm8o3x8DGCrSqgskFfmJTUD2wC2qSoVZzQKB67sm-swtD5fkxZO7C0lBCMAU92IYZwCdYehIOtZbP5L1Lfg3C6pxd0r7gQOdzcAZj9TStnKBQPK3jSvzkiHIQhb6I0sViOS_8JceSNs9ZlVelQ3gs77xM2ksWDM6vmqIndzsS-5hUd-9qdRDTLHnhdbS4_UBwNDza47Iqd5vZkBgmQ_oDZ7dVyBuMHiQFg28V6zhtsf3fijP0UhePCj4GM89g3tzYBOmuapVBobbX395FWpnNC3bYg7zDaVHcllSUYDjGc1A","Mapir-SDK":"reactjs"}}}}),v=new d.a({modes:Object(c.a)({},d.a.modes),bufferSize:500,bufferUnit:"kilometers",bufferSteps:64,userProperties:!0}),y.once("load",(function(){y.resize(),y.addControl(v,"top-right"),y.addControl(function(e){return new w({draw:e})}(v),"top-right"),v.set({type:"FeatureCollection",features:[{type:"Feature",properties:{},id:"example-id",geometry:{type:"Polygon",coordinates:[[[51.41742415918904,35.73019558439101],[51.31319413385742,35.702773908694724],[51.378997493472525,35.665562843119986],[51.45008537540798,35.67776544979942],[51.46619566741822,35.70822028156377],[51.41742415918904,35.73019558439101]]]}}]})}))}),[]),Object(n.jsx)("div",{className:"map-wrapper",children:Object(n.jsx)("div",{id:"map",ref:e})})},O=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,49)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;i(e),n(e),a(e),o(e),r(e)}))};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(j,{})}),document.getElementById("root")),O()}},[[48,1,2]]]);
//# sourceMappingURL=main.1cfac412.chunk.js.map